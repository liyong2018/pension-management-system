-- 智能设备测试数据
-- 先删除已存在的测试数据
DELETE FROM device_alarm_record;
DELETE FROM smart_device;

-- 插入智能设备测试数据
INSERT INTO smart_device (
    device_code, device_name, device_type, device_brand, device_model, device_status,
    purchase_date, installation_location, elderly_id, organization_id,
    ip_address, mac_address, communication_protocol, data_collection_frequency,
    alarm_threshold, battery_threshold, real_time_data, battery_level, signal_strength,
    last_communication_time, data_upload_status, warranty_expiry_date, maintenance_cycle,
    next_maintenance_date, failure_count, created_time, updated_time, created_by, is_deleted
) VALUES

('DEV001', '智能手环Pro', '健康监测设备', '小米', 'Mi Band 7', '在线', 
 '2023-01-15', '张伟 卧室', 1, 1,
 '192.168.1.101', 'AA:BB:CC:DD:EE:01', 'MQTT', 60,
 '{"heart_rate_max": 120, "heart_rate_min": 60}', 20, 
 '{"heart_rate": 78, "steps": 8500, "battery": 85}', 85, 85,
 '2024-01-15 14:30:00', '正常', '2025-01-15', 30, '2024-02-15', 0,
 '2023-01-15 10:00:00', '2024-01-15 14:30:00', 'admin', 0),

('DEV002', '血压监测仪', '健康监测设备', '欧姆龙', 'HEM-7156', '在线',
 '2023-02-20', '李淑华 客厅', 2, 1,
 '192.168.1.102', 'AA:BB:CC:DD:EE:02', 'TCP/IP', 300,
 '{"systolic_max": 140, "diastolic_max": 90}', 15,
 '{"systolic": 125, "diastolic": 80, "battery": 70}', 70, 90,
 '2024-01-15 14:00:00', '正常', '2025-02-20', 60, '2024-03-20', 0,
 '2023-02-20 09:00:00', '2024-01-15 14:00:00', 'admin', 0),

('DEV003', '血糖仪', '健康监测设备', '罗氏', 'Accu-Chek Guide', '在线',
 '2023-03-10', '王大爷 书房', 3, 1,
 '192.168.1.103', 'AA:BB:CC:DD:EE:03', 'TCP/IP', 600,
 '{"glucose_max": 11.1, "glucose_min": 3.9}', 10,
 '{"glucose": 6.2, "battery": 60}', 60, 88,
 '2024-01-15 13:45:00', '正常', '2025-03-10', 90, '2024-06-10', 0,
 '2023-03-10 08:30:00', '2024-01-15 13:45:00', 'admin', 0),


('DEV004', '智能灯光控制器', '智能家居设备', '小米', 'Yeelight', '在线',
 '2023-04-05', '陈奶奶 客厅', 4, 1,
 '192.168.1.104', 'AA:BB:CC:DD:EE:04', 'Wi-Fi', 120,
 '{}', 30,
 '{"brightness": 60, "color_temp": 4000}', 100, 92,
 '2024-01-15 14:20:00', '正常', '2026-04-05', 180, '2024-10-05', 0,
 '2023-04-05 11:00:00', '2024-01-15 14:20:00', 'admin', 0),

('DEV005', '智能温控器', '智能家居设备', '海尔', 'Smart AC', '在线',
 '2023-05-12', '刘大叔 卧室', 5, 2,
 '192.168.1.105', 'AA:BB:CC:DD:EE:05', 'Wi-Fi', 180,
 '{"temp_max": 28, "temp_min": 18}', 25,
 '{"temperature": 24, "humidity": 45}', 95, 87,
 '2024-01-15 14:10:00', '正常', '2026-05-12', 90, '2024-08-12', 0,
 '2023-05-12 14:30:00', '2024-01-15 14:10:00', 'admin', 0),


('DEV006', '烟雾报警器', '安全设备', '海康威视', 'DS-PDSMK-S-WE', '在线',
 '2023-06-18', '杨奶奶 厨房', 6, 2,
 '192.168.1.106', 'AA:BB:CC:DD:EE:06', 'LoRa', 60,
 '{"smoke_threshold": 50}', 20,
 '{"smoke_level": 5, "battery": 80}', 80, 94,
 '2024-01-15 14:25:00', '正常', '2028-06-18', 365, '2025-06-18', 0,
 '2023-06-18 16:00:00', '2024-01-15 14:25:00', 'admin', 0),

('DEV007', 'SOS紧急按钮', '安全设备', '大华', 'DH-ARD221', '在线',
 '2023-07-22', '马大爷 床头', 7, 2,
 '192.168.1.107', 'AA:BB:CC:DD:EE:07', 'MQTT', 30,
 '{}', 15,
 '{"battery": 75, "signal": 90}', 75, 90,
 '2024-01-15 14:35:00', '正常', '2026-07-22', 180, '2025-01-22', 0,
 '2023-07-22 12:00:00', '2024-01-15 14:35:00', 'admin', 0),

('DEV008', '水浸传感器', '安全设备', '小米', 'Aqara Water Leak', '在线',
 '2023-08-15', '周婆婆 卫生间', 8, 2,
 '192.168.1.108', 'AA:BB:CC:DD:EE:08', 'ZigBee', 120,
 '{}', 25,
 '{"water_detected": false, "battery": 65}', 65, 85,
 '2024-01-15 14:15:00', '正常', '2026-08-15', 365, '2025-08-15', 0,
 '2023-08-15 10:30:00', '2024-01-15 14:15:00', 'admin', 0),


('DEV009', 'GPS定位手表', '定位设备', '华为', 'Watch GT 3 Pro', '在线',
 '2023-09-10', '孙爷爷 手腕', 9, 3,
 '192.168.1.109', 'AA:BB:CC:DD:EE:09', '4G', 300,
 '{"geofence_radius": 500}', 20,
 '{"latitude": 39.9042, "longitude": 116.4074, "battery": 55}', 55, 78,
 '2024-01-15 14:05:00', '正常', '2025-09-10', 30, '2024-10-10', 0,
 '2023-09-10 13:20:00', '2024-01-15 14:05:00', 'admin', 0),

('DEV010', '室内定位标签', '定位设备', '泰智会', 'TZH-001', '在线',
 '2023-10-05', '吴奶奶 胸前', 10, 3,
 '192.168.1.110', 'AA:BB:CC:DD:EE:10', 'UWB', 60,
 '{}', 30,
 '{"x": 10.5, "y": 15.2, "battery": 90}', 90, 95,
 '2024-01-15 14:40:00', '正常', '2025-10-05', 90, '2024-07-05', 0,
 '2023-10-05 09:45:00', '2024-01-15 14:40:00', 'admin', 0),


('DEV011', '智能血氧仪', '健康监测设备', '鱼跃', 'YX303', '故障',
 '2023-11-20', '赵大叔 卧室', 11, 3,
 '192.168.1.111', 'AA:BB:CC:DD:EE:11', 'TCP/IP', 180,
 '{"spo2_min": 95}', 15,
 '{"spo2": 0, "battery": 25}', 25, 0,
 '2024-01-14 10:00:00', '异常', '2024-11-20', 60, '2024-01-20', 3,
 '2023-11-20 15:30:00', '2024-01-14 10:00:00', 'admin', 0),

('DEV012', '体重秤', '健康监测设备', '小米', 'Mi Scale 2', '维护中',
 '2023-12-01', '钱奶奶 卫生间', 12, 3,
 '192.168.1.112', 'AA:BB:CC:DD:EE:12', 'Wi-Fi', 86400,
 '{}', 40,
 '{"weight": 65.5, "battery": 45}', 45, 88,
 '2024-01-13 08:00:00', '正常', '2024-12-01', 30, '2024-01-01', 0,
 '2023-12-01 11:15:00', '2024-01-13 08:00:00', 'admin', 0);

-- 插入设备告警记录测试数据
INSERT INTO device_alarm_record (
    device_id, alarm_type, alarm_level, alarm_content, alarm_time, alarm_data,
    process_status, process_person, process_time, process_result, remarks,
    created_time, updated_time
) VALUES

(1, '健康异常', '警告', '心率异常：检测到心率过高', '2024-01-15 10:30:00',
 '{"heart_rate": 135, "threshold": 120}', '已处理', '护士小王',
 '2024-01-15 10:35:00', '已联系家属，老人情况稳定', '老人刚运动完，心率正常升高',
 '2024-01-15 10:30:00', '2024-01-15 10:35:00'),

(2, '健康异常', '严重', '血压异常：收缩压过高', '2024-01-15 11:15:00',
 '{"systolic": 165, "diastolic": 95, "threshold_systolic": 140}', '已处理', '医生李明',
 '2024-01-15 11:20:00', '建议调整药物剂量，已联系主治医生', '需要密切观察血压变化',
 '2024-01-15 11:15:00', '2024-01-15 11:20:00'),

(3, '健康异常', '警告', '血糖偏高', '2024-01-15 12:00:00',
 '{"glucose": 12.5, "threshold": 11.1}', '处理中', '护士小张',
 '2024-01-15 12:05:00', '正在联系营养师调整饮食', '餐后血糖升高',
 '2024-01-15 12:00:00', '2024-01-15 12:05:00'),


(11, '设备故障', '严重', '血氧仪无法正常检测', '2024-01-14 09:30:00',
 '{"error_code": "E001", "message": "传感器故障"}', '已处理', '技术员小刘',
 '2024-01-14 14:00:00', '设备已送修，临时更换备用设备', '传感器老化需要更换',
 '2024-01-14 09:30:00', '2024-01-14 14:00:00'),

(12, '设备故障', '警告', '体重秤通信异常', '2024-01-13 07:45:00',
 '{"error": "连接超时"}', '处理中', '技术员小王',
 '2024-01-13 08:30:00', '正在检查网络连接', '可能是WiFi信号问题',
 '2024-01-13 07:45:00', '2024-01-13 08:30:00'),


(1, '低电量', '提醒', '智能手环电量不足', '2024-01-15 08:00:00',
 '{"battery": 15, "threshold": 20}', '未处理', NULL, NULL, NULL, NULL,
 '2024-01-15 08:00:00', '2024-01-15 08:00:00'),

(7, '低电量', '警告', 'SOS按钮电量过低', '2024-01-15 09:00:00',
 '{"battery": 10, "threshold": 15}', '未处理', NULL, NULL, NULL, NULL,
 '2024-01-15 09:00:00', '2024-01-15 09:00:00'),

(9, '低电量', '警告', 'GPS手表电量不足', '2024-01-15 13:30:00',
 '{"battery": 12, "threshold": 20}', '未处理', NULL, NULL, NULL, NULL,
 '2024-01-15 13:30:00', '2024-01-15 13:30:00'),


(11, '网络断连', '严重', '血氧仪失去网络连接', '2024-01-14 10:00:00',
 '{"last_seen": "2024-01-14 09:30:00"}', '已处理', '技术员小刘',
 '2024-01-14 14:00:00', '设备故障导致断连，已送修', '设备硬件故障',
 '2024-01-14 10:00:00', '2024-01-14 14:00:00'),

(5, '网络断连', '警告', '温控器网络连接不稳定', '2024-01-15 02:15:00',
 '{"connection_lost_count": 3}', '未处理', NULL, NULL, NULL, NULL,
 '2024-01-15 02:15:00', '2024-01-15 02:15:00'),


(4, '数据异常', '提醒', '灯光控制器数据异常', '2024-01-15 14:20:00',
 '{"brightness": -1, "expected_range": "0-100"}', '未处理', NULL, NULL, NULL, NULL,
 '2024-01-15 14:20:00', '2024-01-15 14:20:00'),

(8, '数据异常', '严重', '水浸传感器误报', '2024-01-15 06:00:00',
 '{"false_positive_count": 5}', '已忽略', '管理员', 
 '2024-01-15 06:30:00', '确认无水浸情况，传感器可能需要清洁', '环境湿度较大导致误报',
 '2024-01-15 06:00:00', '2024-01-15 06:30:00'); 