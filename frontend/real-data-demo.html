<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…»è€ä¿¡æ¯ç®¡ç†ç³»ç»Ÿ - çœŸå®æ•°æ®ç»Ÿè®¡æ¼”ç¤º</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f7fa;
            color: #303133;
            padding: 20px;
        }
        
        .header {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .header h1 {
            color: #409EFF;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #606266;
            font-size: 16px;
        }
        
        .comparison-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .data-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        }
        
        .section-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #E4E7ED;
        }
        
        .real-data .section-title {
            color: #67C23A;
        }
        
        .mock-data .section-title {
            color: #F56C6C;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .stat-item {
            background: #F8F9FA;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #409EFF;
        }
        
        .stat-label {
            font-size: 14px;
            color: #909399;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #303133;
        }
        
        .highlight {
            background: #E1F3D8;
            border-left-color: #67C23A;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #909399;
        }
        
        .api-info {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }
        
        .api-url {
            background: #F4F4F5;
            padding: 10px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }
        
        .json-data {
            background: #F4F4F5;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¥ å…»è€ä¿¡æ¯ç®¡ç†ç³»ç»Ÿ - çœŸå®æ•°æ®ç»Ÿè®¡æ¼”ç¤º</h1>
        <p>å¯¹æ¯”å±•ç¤ºï¼šçœŸå®æ•°æ®åº“ç»Ÿè®¡ vs ä¹‹å‰çš„æ¨¡æ‹Ÿæ•°æ®</p>
    </div>

    <div class="comparison-container">
        <!-- çœŸå®æ•°æ® -->
        <div class="data-section real-data">
            <div class="section-title">âœ… çœŸå®æ•°æ®åº“ç»Ÿè®¡</div>
            <div id="realDataContent" class="loading">æ­£åœ¨åŠ è½½çœŸå®æ•°æ®...</div>
        </div>

        <!-- æ¨¡æ‹Ÿæ•°æ® -->
        <div class="data-section mock-data">
            <div class="section-title">âŒ ä¹‹å‰çš„æ¨¡æ‹Ÿæ•°æ®</div>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-label">è€é¾„äººå£æ€»æ•°</div>
                    <div class="stat-value">12,580</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">80å²ä»¥ä¸Š</div>
                    <div class="stat-value">3,240</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">å…»è€æœºæ„æ€»æ•°</div>
                    <div class="stat-value">156</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">ä»ä¸šäººå‘˜æ€»æ•°</div>
                    <div class="stat-value">1,280</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">æŠ¤ç†å‘˜</div>
                    <div class="stat-value">680</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">åœ¨çº¿è®¾å¤‡</div>
                    <div class="stat-value">7,850</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">ä»Šæ—¥å‘Šè­¦</div>
                    <div class="stat-value">15</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">æœ¬æœˆå‘Šè­¦</div>
                    <div class="stat-value">256</div>
                </div>
            </div>
        </div>
    </div>

    <div class="api-info">
        <h3>ğŸ“¡ API æ¥å£ä¿¡æ¯</h3>
        <p><strong>ç»Ÿè®¡æ•°æ®æ¥å£ï¼š</strong></p>
        <div class="api-url">GET http://localhost:8081/api/dashboard/stats</div>
        
        <p><strong>å‘Šè­¦æ•°æ®æ¥å£ï¼š</strong></p>
        <div class="api-url">GET http://localhost:8081/api/dashboard/alarms</div>
        
        <p><strong>çœŸå®APIå“åº”æ•°æ®ï¼š</strong></p>
        <div id="apiResponse" class="json-data">æ­£åœ¨åŠ è½½...</div>
    </div>

    <script>
        // åŠ è½½çœŸå®æ•°æ®
        async function loadRealData() {
            try {
                const response = await fetch('http://localhost:8081/api/dashboard/stats');
                const data = await response.json();
                
                // æ˜¾ç¤ºçœŸå®æ•°æ®ç»Ÿè®¡
                const realDataHtml = `
                    <div class="stats-grid">
                        <div class="stat-item highlight">
                            <div class="stat-label">è€é¾„äººå£æ€»æ•°</div>
                            <div class="stat-value">${data.elderlyStats.totalCount.toLocaleString()}</div>
                        </div>
                        <div class="stat-item highlight">
                            <div class="stat-label">80å²ä»¥ä¸Š</div>
                            <div class="stat-value">${data.elderlyStats.over80Count.toLocaleString()}</div>
                        </div>
                        <div class="stat-item highlight">
                            <div class="stat-label">å…»è€æœºæ„æ€»æ•°</div>
                            <div class="stat-value">${data.facilityStats.totalCount.toLocaleString()}</div>
                        </div>
                        <div class="stat-item highlight">
                            <div class="stat-label">ä»ä¸šäººå‘˜æ€»æ•°</div>
                            <div class="stat-value">${data.staffStats.totalCount.toLocaleString()}</div>
                        </div>
                        <div class="stat-item highlight">
                            <div class="stat-label">æŠ¤ç†å‘˜</div>
                            <div class="stat-value">${data.staffStats.nurseCount.toLocaleString()}</div>
                        </div>
                        <div class="stat-item highlight">
                            <div class="stat-label">åœ¨çº¿è®¾å¤‡</div>
                            <div class="stat-value">${data.deviceStats.onlineCount.toLocaleString()}</div>
                        </div>
                        <div class="stat-item highlight">
                            <div class="stat-label">ä»Šæ—¥å‘Šè­¦</div>
                            <div class="stat-value">${data.alarmStats.todayAlarmCount.toLocaleString()}</div>
                        </div>
                        <div class="stat-item highlight">
                            <div class="stat-label">æœ¬æœˆå‘Šè­¦</div>
                            <div class="stat-value">${data.alarmStats.monthAlarmCount.toLocaleString()}</div>
                        </div>
                    </div>
                `;
                
                document.getElementById('realDataContent').innerHTML = realDataHtml;
                
                // æ˜¾ç¤ºAPIå“åº”æ•°æ®
                document.getElementById('apiResponse').textContent = JSON.stringify(data, null, 2);
                
            } catch (error) {
                console.error('åŠ è½½çœŸå®æ•°æ®å¤±è´¥:', error);
                document.getElementById('realDataContent').innerHTML = `
                    <div style="color: #F56C6C; text-align: center; padding: 20px;">
                        âŒ åŠ è½½å¤±è´¥ï¼š${error.message}<br>
                        è¯·ç¡®ä¿åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ (http://localhost:8081)
                    </div>
                `;
                document.getElementById('apiResponse').textContent = `é”™è¯¯: ${error.message}`;
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåè·å–æ•°æ®
        document.addEventListener('DOMContentLoaded', loadRealData);
    </script>
</body>
</html> 