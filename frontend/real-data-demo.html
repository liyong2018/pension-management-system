<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>养老信息管理系统 - 真实数据统计演示</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f7fa;
            color: #303133;
            padding: 20px;
        }
        
        .header {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .header h1 {
            color: #409EFF;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #606266;
            font-size: 16px;
        }
        
        .comparison-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .data-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        }
        
        .section-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #E4E7ED;
        }
        
        .real-data .section-title {
            color: #67C23A;
        }
        
        .mock-data .section-title {
            color: #F56C6C;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .stat-item {
            background: #F8F9FA;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #409EFF;
        }
        
        .stat-label {
            font-size: 14px;
            color: #909399;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #303133;
        }
        
        .highlight {
            background: #E1F3D8;
            border-left-color: #67C23A;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #909399;
        }
        
        .api-info {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }
        
        .api-url {
            background: #F4F4F5;
            padding: 10px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }
        
        .json-data {
            background: #F4F4F5;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🏥 养老信息管理系统 - 真实数据统计演示</h1>
        <p>对比展示：真实数据库统计 vs 之前的模拟数据</p>
    </div>

    <div class="comparison-container">
        <!-- 真实数据 -->
        <div class="data-section real-data">
            <div class="section-title">✅ 真实数据库统计</div>
            <div id="realDataContent" class="loading">正在加载真实数据...</div>
        </div>

        <!-- 模拟数据 -->
        <div class="data-section mock-data">
            <div class="section-title">❌ 之前的模拟数据</div>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-label">老龄人口总数</div>
                    <div class="stat-value">12,580</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">80岁以上</div>
                    <div class="stat-value">3,240</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">养老机构总数</div>
                    <div class="stat-value">156</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">从业人员总数</div>
                    <div class="stat-value">1,280</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">护理员</div>
                    <div class="stat-value">680</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">在线设备</div>
                    <div class="stat-value">7,850</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">今日告警</div>
                    <div class="stat-value">15</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">本月告警</div>
                    <div class="stat-value">256</div>
                </div>
            </div>
        </div>
    </div>

    <div class="api-info">
        <h3>📡 API 接口信息</h3>
        <p><strong>统计数据接口：</strong></p>
        <div class="api-url">GET http://localhost:8081/api/dashboard/stats</div>
        
        <p><strong>告警数据接口：</strong></p>
        <div class="api-url">GET http://localhost:8081/api/dashboard/alarms</div>
        
        <p><strong>真实API响应数据：</strong></p>
        <div id="apiResponse" class="json-data">正在加载...</div>
    </div>

    <script>
        // 加载真实数据
        async function loadRealData() {
            try {
                const response = await fetch('http://localhost:8081/api/dashboard/stats');
                const data = await response.json();
                
                // 显示真实数据统计
                const realDataHtml = `
                    <div class="stats-grid">
                        <div class="stat-item highlight">
                            <div class="stat-label">老龄人口总数</div>
                            <div class="stat-value">${data.elderlyStats.totalCount.toLocaleString()}</div>
                        </div>
                        <div class="stat-item highlight">
                            <div class="stat-label">80岁以上</div>
                            <div class="stat-value">${data.elderlyStats.over80Count.toLocaleString()}</div>
                        </div>
                        <div class="stat-item highlight">
                            <div class="stat-label">养老机构总数</div>
                            <div class="stat-value">${data.facilityStats.totalCount.toLocaleString()}</div>
                        </div>
                        <div class="stat-item highlight">
                            <div class="stat-label">从业人员总数</div>
                            <div class="stat-value">${data.staffStats.totalCount.toLocaleString()}</div>
                        </div>
                        <div class="stat-item highlight">
                            <div class="stat-label">护理员</div>
                            <div class="stat-value">${data.staffStats.nurseCount.toLocaleString()}</div>
                        </div>
                        <div class="stat-item highlight">
                            <div class="stat-label">在线设备</div>
                            <div class="stat-value">${data.deviceStats.onlineCount.toLocaleString()}</div>
                        </div>
                        <div class="stat-item highlight">
                            <div class="stat-label">今日告警</div>
                            <div class="stat-value">${data.alarmStats.todayAlarmCount.toLocaleString()}</div>
                        </div>
                        <div class="stat-item highlight">
                            <div class="stat-label">本月告警</div>
                            <div class="stat-value">${data.alarmStats.monthAlarmCount.toLocaleString()}</div>
                        </div>
                    </div>
                `;
                
                document.getElementById('realDataContent').innerHTML = realDataHtml;
                
                // 显示API响应数据
                document.getElementById('apiResponse').textContent = JSON.stringify(data, null, 2);
                
            } catch (error) {
                console.error('加载真实数据失败:', error);
                document.getElementById('realDataContent').innerHTML = `
                    <div style="color: #F56C6C; text-align: center; padding: 20px;">
                        ❌ 加载失败：${error.message}<br>
                        请确保后端服务正在运行 (http://localhost:8081)
                    </div>
                `;
                document.getElementById('apiResponse').textContent = `错误: ${error.message}`;
            }
        }

        // 页面加载完成后获取数据
        document.addEventListener('DOMContentLoaded', loadRealData);
    </script>
</body>
</html> 