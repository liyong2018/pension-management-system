-- Drop table if exists
DROP TABLE IF EXISTS service_staff;

/* 创建服务人员表 */
CREATE TABLE service_staff (
    id BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT '主键ID',
    employee_id VARCHAR(50) NOT NULL UNIQUE COMMENT '员工编号',
    name VARCHAR(100) NOT NULL COMMENT '姓名',
    gender VARCHAR(2) NOT NULL COMMENT '性别',
    birth_date DATE NOT NULL COMMENT '出生日期',
    phone VARCHAR(20) NOT NULL COMMENT '手机号码',
    email VARCHAR(100) COMMENT '邮箱地址',
    id_card VARCHAR(18) NOT NULL COMMENT '身份证号',
    address VARCHAR(200) COMMENT '家庭住址',
    position VARCHAR(100) NOT NULL COMMENT '职位',
    department VARCHAR(100) COMMENT '部门',
    work_type VARCHAR(20) NOT NULL COMMENT '工作类型',
    hire_date DATE NOT NULL COMMENT '入职日期',
    status VARCHAR(20) NOT NULL COMMENT '状态',
    base_salary DECIMAL(12,2) COMMENT '基本工资',
    work_shift VARCHAR(20) COMMENT '工作班次',
    organization_id BIGINT NOT NULL COMMENT '机构ID',
    education VARCHAR(50) COMMENT '学历',
    skills TEXT COMMENT '技能',
    certifications TEXT COMMENT '证书',
    emergency_contact_name VARCHAR(100) COMMENT '紧急联系人姓名',
    emergency_contact_phone VARCHAR(20) COMMENT '紧急联系人电话',
    emergency_contact_relationship VARCHAR(50) COMMENT '紧急联系人关系',
    health_status VARCHAR(200) COMMENT '健康状态',
    last_physical_exam_date DATE COMMENT '上次体检日期',
    next_physical_exam_date DATE COMMENT '下次体检日期',
    last_training_date DATE COMMENT '上次培训日期',
    training_records TEXT COMMENT '培训记录',
    next_training_date DATE COMMENT '下次培训日期',
    performance_score DECIMAL(5,2) COMMENT '绩效评分',
    last_evaluation_date DATE COMMENT '上次评估日期',
    next_evaluation_date DATE COMMENT '下次评估日期',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    created_by BIGINT COMMENT '创建人',
    updated_by BIGINT COMMENT '更新人',
    remarks VARCHAR(500) COMMENT '备注',
    avatar_url VARCHAR(200) COMMENT '头像地址',
    work_status_stats TEXT COMMENT '工作状态统计',
    service_stats TEXT COMMENT '服务统计',
    schedule_info TEXT COMMENT '排班信息',
    
    INDEX idx_employee_id (employee_id),
    INDEX idx_name (name),
    INDEX idx_department (department),
    INDEX idx_position (position),
    INDEX idx_status (status),
    INDEX idx_organization_id (organization_id),
    INDEX idx_hire_date (hire_date),
    INDEX idx_work_type (work_type),
    INDEX idx_created_at (created_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='服务人员表';

/* 插入测试数据 */
INSERT INTO service_staff (
    employee_id, name, gender, birth_date, phone, email, id_card, address,
    position, department, work_type, hire_date, status, base_salary, work_shift,
    organization_id, education, skills, certifications,
    emergency_contact_name, emergency_contact_phone, emergency_contact_relationship,
    health_status, last_physical_exam_date, next_physical_exam_date,
    last_training_date, training_records, next_training_date,
    performance_score, last_evaluation_date, next_evaluation_date,
    created_by, updated_by, remarks, avatar_url,
    work_status_stats, service_stats, schedule_info
) VALUES 
('EMP001', '张小红', '女', '1985-03-15', '13812345678', 'zhang.xiaohong@pension.com', '320102198503151234', '南京市玄武区梅园新村街道',
 '护士', '护理部', 'FULL_TIME', '2020-01-15', 'ACTIVE', 6500.00, 'DAY',
 1, '护理学专科', '{"skills": ["基础护理", "老年护理", "康复护理"]}', '{"certificates": ["护士执业证", "养老护理员证"]}',
 '张大明', '13987654321', '丈夫',
 '健康', '2024-01-15', '2025-01-15',
 '2024-03-01', '{"trainings": [{"date": "2024-03-01", "content": "失智症护理培训", "hours": 8}]}', '2024-09-01',
 88.50, '2024-01-01', '2024-07-01',
 1, 1, '工作认真负责，深受老人喜爱', '/uploads/avatars/zhang_xiaohong.jpg',
 '{"total_work_days": 120, "attendance_rate": 98.5}', '{"service_count": 25, "satisfaction_rate": 95.2}', '{"current_shift": "白班", "next_shift_date": "2024-06-16"}'),

('EMP002', '李医生', '男', '1978-08-22', '13698765432', 'li.doctor@pension.com', '320103197808221567', '南京市秦淮区夫子庙街道',
 '主治医师', '医疗部', 'FULL_TIME', '2018-05-20', 'ACTIVE', 12000.00, 'DAY',
 1, '临床医学硕士', '{"skills": ["内科", "老年医学", "慢性病管理"]}', '{"certificates": ["医师执业证", "主治医师证"]}',
 '李夫人', '13876543210', '妻子',
 '健康', '2024-02-01', '2025-02-01',
 '2024-04-15', '{"trainings": [{"date": "2024-04-15", "content": "急救护理培训", "hours": 12}]}', '2024-10-15',
 92.00, '2024-02-01', '2024-08-01',
 1, 1, '医术精湛，经验丰富', '/uploads/avatars/li_doctor.jpg',
 '{"total_work_days": 118, "attendance_rate": 99.2}', '{"service_count": 45, "satisfaction_rate": 97.8}', '{"current_shift": "白班", "next_shift_date": "2024-06-16"}'),

('EMP003', '王康复', '男', '1990-12-10', '13765432109', 'wang.kangfu@pension.com', '320104199012101890', '南京市鼓楼区湖南路街道',
 '康复治疗师', '康复科', 'FULL_TIME', '2021-03-10', 'ACTIVE', 7500.00, 'DAY',
 1, '康复治疗学本科', '{"skills": ["物理治疗", "作业治疗", "言语治疗"]}', '{"certificates": ["康复治疗师证", "物理治疗师证"]}',
 '王母亲', '13654321098', '母亲',
 '健康', '2024-01-20', '2025-01-20',
 '2024-05-01', '{"trainings": [{"date": "2024-05-01", "content": "新型康复技术培训", "hours": 16}]}', '2024-11-01',
 85.75, '2024-01-15', '2024-07-15',
 1, 1, '专业技能强，服务态度好', '/uploads/avatars/wang_kangfu.jpg',
 '{"total_work_days": 115, "attendance_rate": 97.8}', '{"service_count": 30, "satisfaction_rate": 94.5}', '{"current_shift": "白班", "next_shift_date": "2024-06-16"}'),

('EMP004', '陈营养师', '女', '1988-06-18', '13712345678', 'chen.yingyang@pension.com', '320105198806181234', '南京市建邺区沙洲街道',
 '营养师', '膳食部', 'FULL_TIME', '2019-08-01', 'ACTIVE', 5800.00, 'DAY',
 1, '营养学本科', '{"skills": ["营养配餐", "食疗指导", "糖尿病饮食"]}', '{"certificates": ["营养师证", "食品安全管理员证"]}',
 '陈先生', '13823456789', '丈夫',
 '健康', '2024-03-10', '2025-03-10',
 '2024-06-15', '{"trainings": [{"date": "2024-06-15", "content": "老年营养学进展", "hours": 10}]}', '2024-12-15',
 89.25, '2024-03-01', '2024-09-01',
 1, 1, '营养搭配合理，深受好评', '/uploads/avatars/chen_yingyang.jpg',
 '{"total_work_days": 110, "attendance_rate": 96.8}', '{"service_count": 35, "satisfaction_rate": 93.5}', '{"current_shift": "白班", "next_shift_date": "2024-06-16"}'),

('EMP005', '刘社工', '女', '1992-11-25', '13634567890', 'liu.shegong@pension.com', '320106199211251567', '南京市栖霞区仙林街道',
 '社工', '社工部', 'FULL_TIME', '2022-03-15', 'ACTIVE', 5200.00, 'DAY',
 1, '社会工作本科', '{"skills": ["心理疏导", "活动策划", "家庭关系调解"]}', '{"certificates": ["社会工作师证", "心理咨询师证"]}',
 '刘父亲', '13745678901', '父亲',
 '健康', '2024-02-20', '2025-02-20',
 '2024-07-10', '{"trainings": [{"date": "2024-07-10", "content": "老年心理健康服务", "hours": 14}]}', '2025-01-10',
 91.80, '2024-02-15', '2024-08-15',
 1, 1, '善于沟通，组织能力强', '/uploads/avatars/liu_shegong.jpg',
 '{"total_work_days": 95, "attendance_rate": 98.9}', '{"service_count": 20, "satisfaction_rate": 96.8}', '{"current_shift": "白班", "next_shift_date": "2024-06-16"}'),

('EMP006', '赵保安', '男', '1975-04-08', '13556789012', 'zhao.baoan@pension.com', '320107197504081890', '南京市雨花台区雨花街道',
 '保安', '安保部', 'FULL_TIME', '2017-12-01', 'ACTIVE', 4500.00, 'NIGHT',
 1, '高中', '{"skills": ["安全巡逻", "消防知识", "应急处理"]}', '{"certificates": ["保安员证", "消防安全员证"]}',
 '赵妻子', '13667890123', '妻子',
 '健康', '2024-01-05', '2025-01-05',
 '2024-04-20', '{"trainings": [{"date": "2024-04-20", "content": "消防安全培训", "hours": 6}]}', '2024-10-20',
 87.60, '2024-01-10', '2024-07-10',
 1, 1, '责任心强，工作细致', '/uploads/avatars/zhao_baoan.jpg',
 '{"total_work_days": 125, "attendance_rate": 99.5}', '{"service_count": 15, "satisfaction_rate": 92.3}', '{"current_shift": "夜班", "next_shift_date": "2024-06-16"}'),

('EMP007', '孙清洁', '女', '1980-09-12', '13478901234', 'sun.qingjie@pension.com', '320108198009121234', '南京市江宁区东山街道',
 '清洁员', '后勤部', 'PART_TIME', '2021-06-10', 'ACTIVE', 3800.00, 'DAY',
 1, '初中', '{"skills": ["环境清洁", "消毒杀菌", "垃圾分类"]}', '{"certificates": ["清洁服务员证"]}',
 '孙儿子', '13589012345', '儿子',
 '健康', '2024-03-15', '2025-03-15',
 '2024-05-25', '{"trainings": [{"date": "2024-05-25", "content": "清洁消毒规范培训", "hours": 4}]}', '2024-11-25',
 86.40, '2024-03-01', '2024-09-01',
 1, 1, '工作勤奋，环境整洁', '/uploads/avatars/sun_qingjie.jpg',
 '{"total_work_days": 100, "attendance_rate": 97.2}', '{"service_count": 10, "satisfaction_rate": 91.8}', '{"current_shift": "白班", "next_shift_date": "2024-06-16"}'),

('EMP008', '马厨师', '男', '1983-07-30', '13390123456', 'ma.chushi@pension.com', '320109198307301567', '南京市浦口区江浦街道',
 '厨师', '膳食部', 'FULL_TIME', '2019-02-18', 'ACTIVE', 6200.00, 'DAY',
 1, '烹饪专业中专', '{"skills": ["中式烹饪", "营养配餐", "食品安全"]}', '{"certificates": ["中式烹调师证", "食品安全管理员证"]}',
 '马妻子', '13401234567', '妻子',
 '健康', '2024-02-28', '2025-02-28',
 '2024-06-05', '{"trainings": [{"date": "2024-06-05", "content": "老年人营养餐制作", "hours": 12}]}', '2024-12-05',
 90.15, '2024-02-20', '2024-08-20',
 1, 1, '厨艺精湛，菜品受欢迎', '/uploads/avatars/ma_chushi.jpg',
 '{"total_work_days": 112, "attendance_rate": 98.1}', '{"service_count": 40, "satisfaction_rate": 94.7}', '{"current_shift": "白班", "next_shift_date": "2024-06-16"}'),

('EMP009', '周司机', '男', '1970-12-03', '13312345678', 'zhou.siji@pension.com', '320110197012031890', '南京市六合区雄州街道',
 '司机', '后勤部', 'FULL_TIME', '2018-09-12', 'ACTIVE', 5500.00, 'DAY',
 1, '高中', '{"skills": ["安全驾驶", "车辆维护", "应急救援"]}', '{"certificates": ["驾驶证A1", "客运从业资格证"]}',
 '周妻子', '13423456789', '妻子',
 '健康', '2024-01-25', '2025-01-25',
 '2024-04-30', '{"trainings": [{"date": "2024-04-30", "content": "安全驾驶培训", "hours": 8}]}', '2024-10-30',
 88.90, '2024-01-20', '2024-07-20',
 1, 1, '驾驶技术娴熟，安全可靠', '/uploads/avatars/zhou_siji.jpg',
 '{"total_work_days": 120, "attendance_rate": 99.0}', '{"service_count": 18, "satisfaction_rate": 93.6}', '{"current_shift": "白班", "next_shift_date": "2024-06-16"}'),

('EMP010', '吴药师', '女', '1987-05-14', '13234567890', 'wu.yaoshi@pension.com', '320111198705141234', '南京市溧水区永阳街道',
 '药师', '医疗部', 'FULL_TIME', '2020-07-08', 'ACTIVE', 7800.00, 'DAY',
 1, '药学本科', '{"skills": ["药物调剂", "用药指导", "药物相互作用"]}', '{"certificates": ["执业药师证", "临床药师证"]}',
 '吴先生', '13345678901', '丈夫',
 '健康', '2024-03-05', '2025-03-05',
 '2024-07-20', '{"trainings": [{"date": "2024-07-20", "content": "老年用药安全培训", "hours": 10}]}', '2025-01-20',
 93.25, '2024-03-01', '2024-09-01',
 1, 1, '专业知识扎实，用药指导准确', '/uploads/avatars/wu_yaoshi.jpg',
 '{"total_work_days": 108, "attendance_rate": 98.7}', '{"service_count": 32, "satisfaction_rate": 96.1}', '{"current_shift": "白班", "next_shift_date": "2024-06-16"}'),

('EMP011', '郑心理师', '女', '1989-08-07', '13145678901', 'zheng.xinli@pension.com', '320112198908071567', '南京市高淳区淳溪街道',
 '心理咨询师', '社工部', 'PART_TIME', '2022-01-20', 'ACTIVE', 6800.00, 'DAY',
 1, '心理学硕士', '{"skills": ["心理评估", "认知训练", "情绪疏导"]}', '{"certificates": ["心理咨询师证", "老年心理健康师证"]}',
 '郑父母', '13256789012', '父母',
 '健康', '2024-02-10', '2025-02-10',
 '2024-08-15', '{"trainings": [{"date": "2024-08-15", "content": "老年抑郁症干预技术", "hours": 16}]}', '2025-02-15',
 94.60, '2024-02-05', '2024-08-05',
 1, 1, '专业能力强，深受老人信任', '/uploads/avatars/zheng_xinli.jpg',
 '{"total_work_days": 85, "attendance_rate": 97.5}', '{"service_count": 28, "satisfaction_rate": 98.2}', '{"current_shift": "白班", "next_shift_date": "2024-06-16"}'),

('EMP012', '黄维修', '男', '1976-10-22', '13067890123', 'huang.weixiu@pension.com', '320113197610221890', '南京市江北新区泰山街道',
 '维修工', '后勤部', 'FULL_TIME', '2019-11-05', 'ACTIVE', 5000.00, 'DAY',
 1, '技工学校', '{"skills": ["电工", "水暖维修", "设备保养"]}', '{"certificates": ["电工证", "水暖工证"]}',
 '黄妻子', '13178901234', '妻子',
 '健康', '2024-01-30', '2025-01-30',
 '2024-05-10', '{"trainings": [{"date": "2024-05-10", "content": "设备安全维护培训", "hours": 6}]}', '2024-11-10',
 87.30, '2024-01-25', '2024-07-25',
 1, 1, '技术熟练，维修及时', '/uploads/avatars/huang_weixiu.jpg',
 '{"total_work_days": 115, "attendance_rate": 96.5}', '{"service_count": 22, "satisfaction_rate": 90.8}', '{"current_shift": "白班", "next_shift_date": "2024-06-16"}'),

('EMP013', '林助理', '女', '1995-01-16', '13989012345', 'lin.zhuli@pension.com', '320114199501161234', '南京市秦淮区红花街道',
 '行政助理', '行政部', 'FULL_TIME', '2023-04-12', 'ACTIVE', 4800.00, 'DAY',
 1, '行政管理本科', '{"skills": ["文档管理", "会议组织", "数据统计"]}', '{"certificates": ["计算机二级证", "普通话证"]}',
 '林男友', '13890123456', '男友',
 '健康', '2024-04-01', '2025-04-01',
 '2024-09-05', '{"trainings": [{"date": "2024-09-05", "content": "办公软件应用培训", "hours": 8}]}', '2025-03-05',
 89.75, '2024-04-01', '2024-10-01',
 1, 1, '工作细致，执行力强', '/uploads/avatars/lin_zhuli.jpg',
 '{"total_work_days": 65, "attendance_rate": 98.3}', '{"service_count": 12, "satisfaction_rate": 92.1}', '{"current_shift": "白班", "next_shift_date": "2024-06-16"}');