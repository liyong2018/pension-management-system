<!-- æœåŠ¡è®¢å•é¡µé¢ -->
<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-section">
    <view class="search-row">
      <input 
        class="search-input" 
        placeholder="è€äººå§“å" 
        bindinput="onSearchInput" 
        data-field="elderlyName"
        value="{{elderlyName}}" 
      />
      <input 
        class="search-input" 
        placeholder="æœåŠ¡å†…å®¹" 
        bindinput="onSearchInput" 
        data-field="serviceContent"
        value="{{serviceContent}}" 
      />
    </view>
    <view class="search-row">
      <input 
        class="search-input" 
        placeholder="æœåŠ¡æä¾›è€…" 
        bindinput="onSearchInput" 
        data-field="serviceProviderName"
        value="{{serviceProviderName}}" 
      />
      <view class="search-buttons">
        <button class="search-btn" bindtap="onSearch">æœç´¢</button>
        <button class="reset-btn" bindtap="onReset">é‡ç½®</button>
      </view>
    </view>
  </view>

  <!-- åˆ†ç±»æ ‡ç­¾ -->
  <view class="category-tabs">
    <scroll-view class="tabs-scroll" scroll-x="true">
      <view class="tabs-list">
        <view 
          class="tab-item {{currentCategory === item.id ? 'active' : ''}}"
          wx:for="{{categories}}" 
          wx:key="id"
          bindtap="onCategoryChange"
          data-category="{{item.id}}"
        >
          <text>{{item.name}}</text>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- æœåŠ¡è®¢å•åˆ—è¡¨ -->
  <view class="service-records-list">
    <view 
      class="service-record-item"
      wx:for="{{serviceRecords}}" 
      wx:key="id"
      bindtap="onViewDetail"
      data-id="{{item.id}}"
    >
      <view class="record-header">
        <view class="record-info">
          <text class="elderly-name">{{item.elderlyName || 'æœªçŸ¥è€äºº'}}</text>
          <text class="record-id">è®¢å•å·: {{item.id}}</text>
        </view>
        <view class="status-badge status-{{item.statusClass || item.status}}">
          <text>{{item.statusText || item.status}}</text>
        </view>
      </view>
      
      <view class="record-content">
        <view class="content-row">
          <text class="label">æœåŠ¡å†…å®¹:</text>
          <text class="value">{{item.serviceContent || 'æœªçŸ¥æœåŠ¡'}}</text>
        </view>
        <view class="content-row">
          <text class="label">æœåŠ¡æä¾›è€…:</text>
          <text class="value">{{item.serviceProviderName || 'æœªçŸ¥æä¾›è€…'}}</text>
        </view>
        <view class="content-row" wx:if="{{item.serviceTime}}">
          <text class="label">æœåŠ¡æ—¶é—´:</text>
          <text class="value">{{item.serviceTime}}</text>
        </view>
        <view class="content-row" wx:if="{{item.price}}">
          <text class="label">æœåŠ¡è´¹ç”¨:</text>
          <text class="value price">Â¥{{item.price}}</text>
        </view>
      </view>
      
      <view class="record-footer">
        <text class="create-time">åˆ›å»ºæ—¶é—´: {{item.createTime || item.createdAt}}</text>
        <view class="action-btn">
          <text>æŸ¥çœ‹è¯¦æƒ…</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½æ›´å¤š -->
  <view class="load-more" wx:if="{{hasMore && !loading}}">
    <view class="load-more-btn" bindtap="loadMoreServiceRecords">
      <text>åŠ è½½æ›´å¤š</text>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{serviceRecords.length === 0 && !loading}}">
    <view class="empty-icon">ğŸ“‹</view>
    <text class="empty-text">æš‚æ— æœåŠ¡è®¢å•</text>
    <text class="empty-desc">å½“å‰ç­›é€‰æ¡ä»¶ä¸‹æ²¡æœ‰æ‰¾åˆ°ç›¸å…³è®¢å•</text>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>
</view>